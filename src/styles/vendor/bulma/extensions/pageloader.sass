$pageloader-opacity: 1 !default

// keyframes mixin
=keyframes($name)
	@-webkit-keyframes #{$name}
		@content
	@-moz-keyframes #{$name}
		@content
	@-o-keyframes #{$name}
		@content
	@keyframes #{$name}
		@content

.pageloader

	@each $name, $pair in $colors
		$color: nth($pair, 1)
		$color-invert: nth($pair, 2)
		&.is-#{$name}
			border-color: $color
			-webkit-animation: loader-figure-#{$name} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)
			-moz-animation: loader-figure-#{$name} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)
			animation: loader-figure-#{$name} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)

	position: absolute
	top: 50%
	left: 50%
	display: block
	border-radius: 100%
	content: ''
	z-index: 9999
	-webkit-transform: translate(-50%, -50%)
	transform: translate(-50%, -50%)
	width: 0
	height: 0
	box-sizing: border-box
	border: 0 solid $primary-light
	-webkit-animation: loader-figure 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)
	animation: loader-figure 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)

	+keyframes(loader-figure)
		0%
			height: 0
			width: 0
			background-color: $white
		29%
			background-color: $white
		30%
			height: 2em
			width: 2em
			background-color: transparent
			border-width: 1em
			opacity: 1
		100%
			height: 2em
			width: 2em
			border-width: 0
			opacity: 0
			background-color: transparent

@each $name, $pair in $colors
	$color: nth($pair, 1)
	$color-invert: nth($pair, 2)
	+keyframes(loader-figure-#{$name})
		0%
			height: 0
			width: 0
			background-color: $color-invert
		29%
			background-color: $color-invert
		30%
			height: 2em
			width: 2em
			background-color: transparent
			border-width: 1em
			opacity: 1
		100%
			height: 2em
			width: 2em
			border-width: 0
			opacity: 0
			background-color: transparent
